!function(e){var t={};function n(r){if(t[r])return t[r].exports;var c=t[r]={i:r,l:!1,exports:{}};return e[r].call(c.exports,c,c.exports,n),c.l=!0,c.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)n.d(r,c,function(t){return e[t]}.bind(null,c));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t){e.exports=window.wp.element},function(e){e.exports=JSON.parse('{"apiVersion":2,"name":"wb/wp-vk","title":"付费内容设置","category":"wb-block","description":"","keywords":["wbolt","付费阅读","vk"],"textdomain":"wb","supports":{"customClassName":false,"className":false,"html":false,"multiple":false}}')},function(e,t){e.exports=window.wp.primitives},,function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"metadata",(function(){return j})),n.d(r,"name",(function(){return k})),n.d(r,"settings",(function(){return w}));var c=n(0),l=n(2),a=Object(c.createElement)(l.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(c.createElement)(l.Path,{d:"M8 5C8 3.34315 9.34315 2 11 2H13C14.6569 2 16 3.34315 16 5V9H18C19.2624 9 20 9.9804 20 11V19C20 20.0196 19.2624 21 18 21H6C4.73763 21 4 20.0196 4 19V11C4 9.9804 4.73763 9 6 9H8V5ZM9.5 9H14.5V5C14.5 4.17157 13.8284 3.5 13 3.5H11C10.1716 3.5 9.5 4.17157 9.5 5V9Z"}));const{PanelBody:o,__experimentalInputControl:i,Placeholder:s,Button:u}=wp.components,{InspectorControls:m,useBlockProps:p,BlockIcon:b}=wp.blockEditor,{useSelect:d,useDispatch:f}=wp.data,{useState:v}=wp.element,O=i;var j=n(1);const{name:k}=j,w={icon:a,example:{},__experimentalLabel(e,{context:t}){if("accessibility"===t)return e.customText},edit:function({attributes:e,setAttributes:t}){const{defaultPrice:n,customText:r,vkDesc:l,vkIsPro:i,vkSetPay:j,vkSetPayUrl:k,vkSettingUrl:w,vkMetaPrice:y}=e,{editPost:x}=f("core/editor"),E=d(e=>e("core/editor").getEditedPostAttribute("meta").vk_price);let g=!E;const P=E||n,[_,h]=v(P),C=e=>{e=e.replace(/[^\d|\.]/g,""),h(e)},S=()=>{const e=_>0?_+"":n;t({vkMetaPrice:e}),x({meta:{vk_price:e}})},M={width:r.length+1.2+"em"};return Object(c.createElement)("figure",p(),!g&&Object(c.createElement)(m,null,Object(c.createElement)(o,null,i?()=>Object(c.createElement)("div",{className:"blocks-table__placeholder-form"},Object(c.createElement)(O,{placeholder:"￥",type:"text",label:"价格",value:_,onChange:C,suffix:_!=E&&Object(c.createElement)(u,{variant:"primary",type:"button",onClick:S},"确认")})):()=>Object(c.createElement)("div",null,"尚未激活PRO功能，",Object(c.createElement)("a",{href:w,target:"_blank"},"去激活"),"。")),i&&!j&&Object(c.createElement)(o,null,()=>Object(c.createElement)("div",null,"您尚未配置支付，",Object(c.createElement)("a",{href:k,target:"_blank"},"去设置")))),!g&&Object(c.createElement)("div",{className:"wp-block-more"},Object(c.createElement)("input",{disabled:!0,type:"text",value:r,style:M})),g&&Object(c.createElement)(s,{label:"付费内容",icon:Object(c.createElement)(b,{icon:a,showColors:!0}),instructions:l},Object(c.createElement)("div",{className:"blocks-table__placeholder-form"},Object(c.createElement)(O,{placeholder:"￥",type:"text",value:_,onChange:C,suffix:Object(c.createElement)(u,{variant:"primary",type:"button",onClick:S},"确认")}))))},save:function({attributes:{vkMark:e}}){const t=e||"\x3c!--more--\x3e";return Object(c.createElement)(c.RawHTML,null,t)}},{registerBlockType:y}=wp.blocks,{metadata:x,settings:E,name:g}=r;y(g,{...E,...x})}]);